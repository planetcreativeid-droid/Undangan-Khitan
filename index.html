<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walimatul Khitan - Muhammad Kenzie</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Tangerine:wght@700&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Icons: Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F3EADF;
        }
        .font-tangerine { font-family: 'Tangerine', cursive; }
        .font-great-vibes { font-family: 'Great Vibes', cursive; }

        /* Custom styles for background images and overlays */
        .hero-section {
            background-image: url('https://images.unsplash.com/photo-1529641484336-ef35140bab1a?q=80&w=1974&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .bg-ornament {
            background-image: url('https://invi.id/wp-content/themes/invi-self/assets/img/ornament-top-left.png'), url('https://invi.id/wp-content/themes/invi-self/assets/img/ornament-bottom-right.png');
            background-position: top left, bottom right;
            background-repeat: no-repeat;
            background-size: 200px, 200px;
        }
        @media (min-width: 768px) {
            .bg-ornament {
                background-size: 300px, 300px;
            }
        }
        .shadow-gold {
            text-shadow: 0px 2px 4px rgba(184, 134, 11, 0.5);
        }
        
        /* Style for bottom navigation */
        .nav-link {
            background-color: white;
            color: #78350f; /* amber-800 */
        }
        .nav-link.active {
            background-color: #78350f; /* amber-800 */
            color: white;
        }

        /* --- STYLING TOMBOL BUKA UNDANGAN --- */
        /* Anda dapat dengan mudah mengubah tampilan tombol di bawah ini */
        .open-invitation-btn {
            background-color: rgba(255, 255, 255, 0.9); /* Latar belakang putih transparan */
            color: #78350f; /* Warna teks (coklat tua) */
            font-weight: 700; /* Ketebalan teks */
            border: 2px solid rgba(255, 255, 255, 0.5); /* Garis tepi putih transparan */
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px); /* Kompatibilitas untuk Safari */
            transition: all 0.2s ease-in-out;
        }

        .open-invitation-btn:hover {
            background-color: white; /* Latar belakang saat disentuh mouse */
            transform: scale(1.05); /* Efek sedikit membesar saat disentuh */
        }
        /* --- AKHIR STYLING TOMBOL --- */

    </style>
</head>
<body class="text-gray-800">

    <!-- Audio Player -->
    <audio id="background-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Tombol Kontrol Musik -->
    <div id="music-control" class="fixed bottom-28 md:bottom-5 right-5 z-50 hidden">
        <button id="music-button" onclick="toggleMusic()" class="bg-amber-800/80 text-white rounded-full p-3 shadow-lg transition-colors duration-300">
            <i id="music-icon" data-feather="music"></i>
        </button>
    </div>

    <!-- Halaman Pembuka (Cover) -->
    <div id="cover-section" class="hero-section min-h-screen w-full flex flex-col items-center justify-center text-center text-white p-6 relative">
        <div class="absolute inset-0 bg-black/50"></div>
        <div class="relative z-10 flex flex-col items-center justify-center h-full">
            <h1 class="font-great-vibes text-4xl md:text-5xl mb-4 shadow-gold" data-aos="fade-down">Walimatul Khitan</h1>
            <div class="my-8" data-aos="zoom-in" data-aos-delay="200">
                <img src="https://placehold.co/200x200/F3EADF/8C6445?text=MK" alt="Foto Kenzie" class="rounded-full w-40 h-40 md:w-48 md:h-48 object-cover border-4 border-amber-100 shadow-xl">
            </div>
            <h2 class="font-tangerine text-6xl md:text-8xl font-bold shadow-gold" data-aos="fade-up" data-aos-delay="400">Muhammad Kenzie</h2>
            <p class="mt-8 text-lg" data-aos="fade-up" data-aos-delay="600">Kepada Yth.</p>
            <p class="font-semibold text-xl" data-aos="fade-up" data-aos-delay="700" id="guest-name">Bapak/Ibu/Saudara/i</p>
            <button id="open-invitation" class="open-invitation-btn mt-8 py-3 px-8 rounded-full shadow-lg" data-aos="fade-in" data-aos-delay="900">
                Buka Undangan
            </button>
        </div>
    </div>

    <!-- Konten Utama Undangan (Awalnya Tersembunyi) -->
    <main id="main-content" class="hidden bg-ornament pb-28 md:pb-0">
        <!-- Section: Pembukaan -->
        <section id="home" class="min-h-screen flex flex-col items-center justify-center text-center p-8">
             <div data-aos="fade-up">
                <img src="https://invi.id/wp-content/themes/invi-self/assets/img/bismillah.png" alt="Bismillah" class="w-64 mx-auto mb-8">
                <p class="text-lg text-amber-900 mb-4">Assalamu'alaikum Warahmatullahi Wabarakatuh</p>
                <p class="text-md text-gray-700 leading-relaxed max-w-2xl mx-auto">
                    Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan acara Tasyakuran Walimatul Khitan putra kami yang Insya Allah akan diselenggarakan pada:
                </p>
            </div>
        </section>

        <!-- Section: Detail Acara -->
        <section id="event" class="py-20 px-8 text-center">
            <div data-aos="fade-up">
                <h2 class="font-great-vibes text-5xl text-amber-900 mb-4">Muhammad Kenzie</h2>
                <p class="text-lg text-gray-700">Putra dari</p>
                <p class="font-semibold text-2xl text-amber-900 mt-2">Bapak Budi & Ibu Wati</p>
                <div class="w-32 h-0.5 bg-amber-800 mx-auto my-8"></div>
            </div>

            <div class="max-w-4xl mx-auto grid md:grid-cols-1 gap-8 mt-8">
                <div class="bg-white/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg" data-aos="fade-up" data-aos-delay="200">
                    <i data-feather="calendar" class="w-12 h-12 text-amber-800 mx-auto mb-4"></i>
                    <h3 class="text-2xl font-semibold text-amber-900">Tasyakuran</h3>
                    <p class="text-lg font-bold mt-2">Sabtu, 23 Agustus 2025</p>
                    <p class="text-md mt-1">Pukul 10:00 WIB - Selesai</p>
                    <p class="text-md mt-4">Kediaman Keluarga</p>
                    <p class="text-sm text-gray-600">Jl. Kenangan Indah No. 123, Surabaya</p>
                </div>
            </div>

            <!-- Countdown Timer -->
            <div id="countdown" class="mt-12 text-amber-900 grid grid-cols-4 gap-2 md:gap-4 max-w-md mx-auto" data-aos="zoom-in">
                <div class="bg-white/50 backdrop-blur-sm p-4 rounded-lg"><div id="days" class="text-3xl font-bold">00</div><div class="text-xs">Hari</div></div>
                <div class="bg-white/50 backdrop-blur-sm p-4 rounded-lg"><div id="hours" class="text-3xl font-bold">00</div><div class="text-xs">Jam</div></div>
                <div class="bg-white/50 backdrop-blur-sm p-4 rounded-lg"><div id="minutes" class="text-3xl font-bold">00</div><div class="text-xs">Menit</div></div>
                <div class="bg-white/50 backdrop-blur-sm p-4 rounded-lg"><div id="seconds" class="text-3xl font-bold">00</div><div class="text-xs">Detik</div></div>
            </div>
        </section>

        <!-- Section: Peta Lokasi -->
        <section id="location" class="py-20 px-8 text-center bg-amber-50/30">
            <h2 class="font-great-vibes text-5xl text-amber-900 mb-8" data-aos="fade-up">Lokasi Acara</h2>
            <div class="max-w-4xl mx-auto rounded-2xl overflow-hidden shadow-lg" data-aos="fade-up">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126646.257124707!2d112.6302824335431!3d-7.275443782911583!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd7fbf8381ac47f%3A0x3027a76e352be40!2sSurabaya%2C%20Kota%2C%20Jawa%20Timur!5e0!3m2!1sid!2sid!4v1694503315624!5m2!1sid!2sid" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <a href="https://maps.app.goo.gl/y2g2l" target="_blank" class="mt-8 inline-block bg-amber-800 hover:bg-amber-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105" data-aos="fade-up">
                Buka di Google Maps
            </a>
        </section>

        <!-- Section: Galeri Foto -->
        <section id="gallery" class="py-20 px-8 text-center">
            <h2 class="font-great-vibes text-5xl text-amber-900 mb-8" data-aos="fade-up">Galeri Kenangan</h2>
            <div class="max-w-5xl mx-auto grid grid-cols-2 md:grid-cols-3 gap-4">
                <div data-aos="zoom-in"><img src="https://placehold.co/400x400/D9C6B0/8C6445?text=Foto+1" class="rounded-lg shadow-md w-full h-full object-cover"></div>
                <div data-aos="zoom-in" data-aos-delay="100"><img src="https://placehold.co/400x600/D9C6B0/8C6445?text=Foto+2" class="rounded-lg shadow-md w-full h-full object-cover"></div>
                <div data-aos="zoom-in" data-aos-delay="200"><img src="https://placehold.co/400x400/D9C6B0/8C6445?text=Foto+3" class="rounded-lg shadow-md w-full h-full object-cover"></div>
                <div data-aos="zoom-in" data-aos-delay="300"><img src="https://placehold.co/400x600/D9C6B0/8C6445?text=Foto+4" class="rounded-lg shadow-md w-full h-full object-cover"></div>
                <div data-aos="zoom-in" data-aos-delay="400"><img src="https://placehold.co/400x400/D9C6B0/8C6445?text=Foto+5" class="rounded-lg shadow-md w-full h-full object-cover"></div>
                <div data-aos="zoom-in" data-aos-delay="500"><img src="https://placehold.co/400x400/D9C6B0/8C6445?text=Foto+6" class="rounded-lg shadow-md w-full h-full object-cover"></div>
            </div>
        </section>

        <!-- Section: Kirim Hadiah -->
        <section id="gifts" class="py-20 px-8 text-center bg-amber-50/30">
            <div class="inline-block bg-amber-800 text-white px-6 py-2 rounded-t-lg font-semibold" data-aos="fade-up">GIFT</div>
            <div class="bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg max-w-4xl mx-auto -mt-2" data-aos="fade-up" data-aos-delay="100">
                <p class="text-md text-gray-700 leading-relaxed">
                    Doa restu dari Anda sangat berarti bagi keluarga kami.
                    Namun jika Anda ingin memberikan hadiah, kami menerima dengan penuh terima kasih apapun bentuk hadiahnya. Terima kasih.
                </p>
            </div>

            <!-- Container for gift cards -->
            <div class="max-w-4xl mx-auto mt-8 grid md:grid-cols-2 gap-8 text-white">
                
                <!-- Card 1: Kirim Hadiah Fisik -->
                <div class="bg-slate-800 p-8 rounded-2xl shadow-lg flex flex-col items-center" data-aos="fade-up" data-aos-delay="200">
                    <h3 class="text-2xl font-semibold">Kirim Hadiah</h3>
                    <svg class="w-24 h-auto text-amber-400 my-4" viewBox="0 0 100 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 6C16.6667 12.6667 33.3333 12.6667 50 6C66.6667 -0.666667 83.3333 -0.666667 100 6" stroke="currentColor" stroke-width="3"/>
                    </svg>
                    <p class="text-center text-gray-300">Jl. Sukabangun II lrg. Masjid rt. 35 rw. 07 kel. Sukajaya kec. Sukarame palembang (Dekat SMA Taruna Indonesia)</p>
                    <button onclick="confirmGift()" class="mt-6 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full transition-colors w-full">
                        Konfirmasi Hadiah
                    </button>
                </div>

                <!-- Card 2: Transfer Bank -->
                <div class="bg-slate-800 p-8 rounded-2xl shadow-lg flex flex-col items-center" data-aos="fade-up" data-aos-delay="300">
                     <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Bank_Central_Asia.svg/2560px-Bank_Central_Asia.svg.png" alt="Logo BCA" class="h-8 mb-4 filter brightness-0 invert">
                    <p class="text-lg font-semibold">a.n Budi Ayah Kenzie</p>
                    <p id="account-number" class="text-2xl tracking-widest my-2">09999999XXX</p>
                    <button onclick="copyToClipboard('0999999900')" class="mt-4 bg-amber-800 text-white text-sm font-semibold py-2 px-4 rounded-full hover:bg-amber-700 transition w-full">
                        Salin Nomor Rekening
                    </button>
                </div>

            </div>
            <div id="copy-feedback" class="mt-4 text-green-600 font-semibold opacity-0 transition-opacity">Nomor rekening disalin!</div>
        </section>

        <!-- Section: Ucapan & Doa -->
        <section id="wishes" class="py-20 px-8 text-center">
            <h2 class="font-great-vibes text-5xl text-amber-900 mb-8" data-aos="fade-up">Ucapan & Doa</h2>
            <div class="max-w-2xl mx-auto bg-white/50 backdrop-blur-sm p-8 rounded-2xl shadow-lg" data-aos="fade-up">
                <form id="wish-form">
                    <div class="mb-4">
                        <label for="wisher-name" class="sr-only">Nama</label>
                        <input type="text" id="wisher-name" placeholder="Nama Anda" class="w-full p-3 rounded-lg border border-amber-200 focus:ring-amber-500 focus:border-amber-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="wish-message" class="sr-only">Ucapan</label>
                        <textarea id="wish-message" rows="4" placeholder="Tulis ucapan & doa Anda..." class="w-full p-3 rounded-lg border border-amber-200 focus:ring-amber-500 focus:border-amber-500" required></textarea>
                    </div>
                    <button type="submit" class="w-full bg-amber-800 hover:bg-amber-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105">
                        Kirim Ucapan
                    </button>
                </form>
            </div>

            <div id="wishes-list" class="mt-12 max-w-2xl mx-auto text-left space-y-4" data-aos="fade-up">
                <!-- Wishes will be dynamically added here -->
            </div>
        </section>

        <!-- Section: Penutup -->
        <section id="closing" class="py-20 px-8 text-center">
            <div data-aos="fade-up">
                <p class="text-lg text-amber-900 mb-4">Wassalamu'alaikum Warahmatullahi Wabarakatuh</p>
                <p class="text-md text-gray-700 leading-relaxed max-w-2xl mx-auto mb-8">
                    Atas kehadiran dan doa restu Bapak/Ibu/Saudara/i sekalian, kami sekeluarga mengucapkan terima kasih.
                </p>
                <h3 class="font-great-vibes text-4xl text-amber-900">Kami yang berbahagia,</h3>
                <p class="font-semibold text-2xl text-amber-900 mt-4">Kel. Bapak Budi & Ibu Wati</p>
            </div>
        </section>

        <footer class="text-center py-6 text-sm text-gray-600">
            <p>&copy; 2025 Undangan Digital. Dibuat dengan ❤️.</p>
        </footer>
    </main>

    <!-- Bottom Navigation Menu -->
    <nav id="bottom-nav" class="fixed bottom-4 left-1/2 -translate-x-1/2 bg-gray-600/80 backdrop-blur-sm shadow-xl z-40 hidden md:hidden rounded-full p-1.5">
        <div class="flex items-center space-x-2">
            <a href="#home" class="nav-link flex items-center justify-center w-12 h-12 rounded-full transition-colors">
                <i data-feather="home" class="w-6 h-6"></i>
            </a>
            <a href="#event" class="nav-link flex items-center justify-center w-12 h-12 rounded-full transition-colors">
                <i data-feather="calendar" class="w-6 h-6"></i>
            </a>
            <a href="#gallery" class="nav-link flex items-center justify-center w-12 h-12 rounded-full transition-colors">
                <i data-feather="image" class="w-6 h-6"></i>
            </a>
            <a href="#gifts" class="nav-link flex items-center justify-center w-12 h-12 rounded-full transition-colors">
                <i data-feather="gift" class="w-6 h-6"></i>
            </a>
            <a href="#wishes" class="nav-link flex items-center justify-center w-12 h-12 rounded-full transition-colors">
                <i data-feather="message-square" class="w-6 h-6"></i>
            </a>
        </div>
    </nav>


    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Inisialisasi AOS (Animate On Scroll)
        AOS.init({
            duration: 1000,
            once: true,
        });

        // Inisialisasi Feather Icons
        feather.replace();

        // --- Fungsionalitas Utama ---

        const coverSection = document.getElementById('cover-section');
        const mainContent = document.getElementById('main-content');
        const openButton = document.getElementById('open-invitation');
        const music = document.getElementById('background-music');
        const musicControl = document.getElementById('music-control');
        const musicIcon = document.getElementById('music-icon');
        const musicButton = document.getElementById('music-button');
        const bottomNav = document.getElementById('bottom-nav');
        let isMusicPlaying = false;

        // 1. Mengambil nama tamu dari URL
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const guest = urlParams.get('to');
            if (guest) {
                document.getElementById('guest-name').innerText = guest.replace(/\+/g, ' ');
            }
        };

        // 2. Tombol Buka Undangan
        openButton.addEventListener('click', function() {
            coverSection.classList.add('transition-opacity', 'duration-1000', 'opacity-0');
            setTimeout(() => {
                coverSection.classList.add('hidden');
                mainContent.classList.remove('hidden');
                mainContent.classList.add('block');
                document.body.style.overflow = 'auto';
                
                toggleMusic(true);
                musicControl.classList.remove('hidden');
                bottomNav.classList.remove('hidden');
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
                // Update active link on load
                updateActiveLink();
            }, 1000);
        });

        // 3. Kontrol Musik
        function toggleMusic(forcePlay = false) {
            if (isMusicPlaying && !forcePlay) {
                music.pause();
                musicIcon.setAttribute('data-feather', 'volume-x');
                // Ubah warna ke mode jeda
                musicButton.classList.remove('bg-amber-800/80');
                musicButton.classList.add('bg-slate-500/80');
            } else {
                music.play().catch(error => console.log("Autoplay was prevented."));
                musicIcon.setAttribute('data-feather', 'music');
                 // Ubah warna ke mode putar
                musicButton.classList.remove('bg-slate-500/80');
                musicButton.classList.add('bg-amber-800/80');
            }
            isMusicPlaying = !isMusicPlaying;
            feather.replace();
        }

        // 4. Countdown Timer
        const countdownDate = new Date("Aug 23, 2025 10:00:00").getTime();
        const countdownFunction = setInterval(function() {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            if (distance < 0) {
                clearInterval(countdownFunction);
                document.getElementById("countdown").innerHTML = "<div class='col-span-4 text-lg'>Acara telah berlangsung</div>";
                return;
            }

            document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
            document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
            document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
            document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
        }, 1000);

        // 5. Salin ke Clipboard
        function copyToClipboard(text) {
            const dummy = document.createElement("textarea");
            document.body.appendChild(dummy);
            dummy.value = text;
            dummy.select();
            document.execCommand("copy");
            document.body.removeChild(dummy);

            const feedback = document.getElementById('copy-feedback');
            feedback.style.opacity = '1';
            setTimeout(() => { feedback.style.opacity = '0'; }, 2000);
        }

        // Fungsi baru untuk konfirmasi hadiah via WhatsApp
        function confirmGift() {
            const phoneNumber = '6281234567890'; // Ganti dengan nomor WhatsApp tujuan Anda
            const message = encodeURIComponent('Halo, saya ingin konfirmasi pengiriman hadiah untuk acara khitanan Muhammad Kenzie.');
            window.open(`https://wa.me/${phoneNumber}?text=${message}`, '_blank');
        }

        // 6. Form Ucapan & Doa (Local Storage)
        const wishForm = document.getElementById('wish-form');
        const wishesList = document.getElementById('wishes-list');
        const WISHES_KEY = 'kenzie_khitan_wishes';

        function renderWishes() {
            wishesList.innerHTML = '';
            const savedWishes = JSON.parse(localStorage.getItem(WISHES_KEY)) || [];
            savedWishes.forEach(wish => {
                const wishElement = document.createElement('div');
                wishElement.className = 'bg-white/60 p-4 rounded-lg shadow';
                wishElement.innerHTML = `
                    <p class="font-semibold text-amber-900">${escapeHTML(wish.name)}</p>
                    <p class="text-gray-700 mt-1">${escapeHTML(wish.message)}</p>
                `;
                wishesList.appendChild(wishElement);
            });
        }

        function escapeHTML(str) {
            return str.replace(/[&<>'"]/g, tag => ({'&': '&amp;', '<': '&lt;', '>': '&gt;', "'": '&#39;', '"': '&quot;'}[tag] || tag));
        }
        
        wishForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const wisherName = document.getElementById('wisher-name').value;
            const wishMessage = document.getElementById('wish-message').value;

            const savedWishes = JSON.parse(localStorage.getItem(WISHES_KEY)) || [];
            savedWishes.unshift({ name: wisherName, message: wishMessage });
            localStorage.setItem(WISHES_KEY, JSON.stringify(savedWishes));

            renderWishes();
            wishForm.reset();
        });

        renderWishes();

        // 7. Navigasi Bawah (Bottom Nav)
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = Array.from(navLinks).map(link => document.getElementById(link.getAttribute('href').substring(1)));

        function updateActiveLink() {
            let currentSectionIndex = 0;
            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                if (window.scrollY >= sectionTop - 150) { // Offset for better trigger point
                    currentSectionIndex = index;
                }
            });

            navLinks.forEach((link, index) => {
                if (index === currentSectionIndex) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }

        window.addEventListener('scroll', updateActiveLink);

    </script>
</body>
</html>
